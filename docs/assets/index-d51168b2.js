(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))E(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&E(g)}).observe(document,{childList:!0,subtree:!0});function j(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function E(s){if(s.ep)return;s.ep=!0;const r=j(s);fetch(s.href,r)}})();const n=document.getElementById("game"),a=n.getContext("2d"),F=document.getElementById("score"),w=document.getElementById("startBtn"),u=document.getElementById("pauseBtn"),v=document.getElementById("restartBtn"),b=document.getElementById("instructions"),L=document.getElementById("gameOver");let l=!1,o=!1,y,d,h,p=1,c=4e3;const m=["🍎","🍌","🍓","🍇","🍉","🍊"],t={score:0,fruits:[],bombs:[],basket:{width:80,height:20,x:0,y:0,speed:7,dx:0}},M=()=>{n.width=window.innerWidth,n.height=window.innerHeight,t.basket.y=n.height-t.basket.height-10};window.addEventListener("resize",M);M();const k=()=>{t.fruits.push({x:Math.random()*(n.width-15*2)+15,y:-15,radius:15,speed:4+Math.random()*3,emoji:m[Math.floor(Math.random()*m.length)]})},B=e=>{e.x=Math.random()*(n.width-e.radius*2)+e.radius,e.y=-e.radius,e.emoji=m[Math.floor(Math.random()*m.length)]},f=()=>{t.bombs.push({x:Math.random()*(n.width-15*2)+15,y:-15,radius:15,speed:(4+Math.random()*2)*p,emoji:"💣"})},C=e=>{e.x=Math.random()*(n.width-e.radius*2)+e.radius,e.y=-e.radius,e.emoji="💣"},A=(e,i)=>e.x>i.x&&e.x<i.x+i.width&&e.y+e.radius>i.y,P=e=>{(e.key==="ArrowLeft"||e.key==="a"||e.key==="A")&&(t.basket.dx=-t.basket.speed),(e.key==="ArrowRight"||e.key==="d"||e.key==="D")&&(t.basket.dx=t.basket.speed)},R=e=>{(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="a"||e.key==="A"||e.key==="d"||e.key==="D")&&(t.basket.dx=0)};window.addEventListener("keydown",P);window.addEventListener("keyup",R);const S=()=>{t.basket.x+=t.basket.dx,t.basket.x=Math.max(0,Math.min(n.width-t.basket.width,t.basket.x))},D=()=>{t.fruits.forEach(e=>{e.y+=e.speed,A(e,t.basket)?(t.score+=1,B(e)):e.y-e.radius>n.height&&B(e)})},G=()=>{t.bombs.forEach(e=>{e.y+=e.speed*p,A(e,t.basket)?$():e.y-e.radius>n.height&&C(e)})},q=()=>{a.fillStyle="brown",a.fillRect(t.basket.x,t.basket.y,t.basket.width,t.basket.height)},K=e=>{a.font=`${e.radius*2}px serif`,a.textAlign="center",a.textBaseline="middle",a.fillText(e.emoji,e.x,e.y)},N=e=>{a.font=`${e.radius*2}px serif`,a.textAlign="center",a.textBaseline="middle",a.fillText(e.emoji,e.x,e.y)},T=()=>{F.textContent=`Score: ${t.score}`},O=()=>{p+=.1,c>2e3&&(c-=500,clearInterval(d),d=setInterval(f,c)),f()},$=()=>{l=!1,o=!1,clearInterval(y),clearInterval(d),clearInterval(h),L.style.display="block",w.style.display="inline-block",u.style.display="none",v.style.display="none",b.style.display="block"},I=()=>{o||(a.clearRect(0,0,n.width,n.height),S(),D(),G(),q(),t.fruits.forEach(K),t.bombs.forEach(N),T(),l&&!o&&requestAnimationFrame(I))},z=()=>{l&&(o?(o=!1,u.textContent="Pause",y=setInterval(k,5e3),d=setInterval(f,c),h=setInterval(O,3e3),requestAnimationFrame(I)):(o=!0,u.textContent="Resume",clearInterval(y),clearInterval(d),clearInterval(h)))},H=()=>{if(!l)return x();l=!1,clearInterval(y),clearInterval(d),clearInterval(h),x()},x=()=>{l||(l=!0,o=!1,w.style.display="none",u.style.display="inline-block",v.style.display="inline-block",b.style.display="none",L.style.display="none",t.score=0,t.fruits=[],t.bombs=[],p=1,c=4e3,k(),f(),y=setInterval(k,5e3),d=setInterval(f,c),h=setInterval(O,3e3),I())};w.addEventListener("click",x);u.addEventListener("click",z);v.addEventListener("click",H);
