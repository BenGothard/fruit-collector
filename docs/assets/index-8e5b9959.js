(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function b(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(s){if(s.ep)return;s.ep=!0;const n=b(s);fetch(s.href,n)}})();const r=document.getElementById("game"),a=r.getContext("2d"),E=document.getElementById("score"),c=document.getElementById("startBtn"),f=document.getElementById("instructions"),m=document.getElementById("gameOver");let o=!1,p,k;const t={score:0,fruits:[],bombs:[],basket:{width:80,height:20,x:0,y:0,speed:7,dx:0}},g=()=>{r.width=window.innerWidth,r.height=window.innerHeight,t.basket.y=r.height-t.basket.height-10};window.addEventListener("resize",g);g();const y=()=>{t.fruits.push({x:Math.random()*(r.width-15*2)+15,y:-15,radius:15,speed:2+Math.random()*3})},u=e=>{e.x=Math.random()*(r.width-e.radius*2)+e.radius,e.y=-e.radius},h=()=>{t.bombs.push({x:Math.random()*(r.width-15*2)+15,y:-15,radius:15,speed:2+Math.random()*2})},v=e=>{e.x=Math.random()*(r.width-e.radius*2)+e.radius,e.y=-e.radius},w=(e,i)=>e.x>i.x&&e.x<i.x+i.width&&e.y+e.radius>i.y,I=e=>{(e.key==="ArrowLeft"||e.key==="a"||e.key==="A")&&(t.basket.dx=-t.basket.speed),(e.key==="ArrowRight"||e.key==="d"||e.key==="D")&&(t.basket.dx=t.basket.speed)},B=e=>{(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="a"||e.key==="A"||e.key==="d"||e.key==="D")&&(t.basket.dx=0)};window.addEventListener("keydown",I);window.addEventListener("keyup",B);const L=()=>{t.basket.x+=t.basket.dx,t.basket.x=Math.max(0,Math.min(r.width-t.basket.width,t.basket.x))},M=()=>{t.fruits.forEach(e=>{e.y+=e.speed,w(e,t.basket)?(t.score+=1,u(e)):e.y-e.radius>r.height&&u(e)})},A=()=>{t.bombs.forEach(e=>{e.y+=e.speed,w(e,t.basket)?C():e.y-e.radius>r.height&&v(e)})},O=()=>{a.fillStyle="brown",a.fillRect(t.basket.x,t.basket.y,t.basket.width,t.basket.height)},P=e=>{a.beginPath(),a.fillStyle="red",a.arc(e.x,e.y,e.radius,0,Math.PI*2),a.fill()},F=e=>{a.beginPath(),a.fillStyle="black",a.arc(e.x,e.y,e.radius,0,Math.PI*2),a.fill()},S=()=>{E.textContent=`Score: ${t.score}`},C=()=>{o=!1,clearInterval(p),clearInterval(k),m.style.display="block",c.style.display="inline-block",f.style.display="block"},x=()=>{a.clearRect(0,0,r.width,r.height),L(),M(),A(),O(),t.fruits.forEach(P),t.bombs.forEach(F),S(),o&&requestAnimationFrame(x)},R=()=>{o||(o=!0,c.style.display="none",f.style.display="none",m.style.display="none",t.score=0,t.fruits=[],t.bombs=[],y(),h(),p=setInterval(y,1e4),k=setInterval(h,7e3),x())};c.addEventListener("click",R);
