(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))I(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const k of n.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&I(k)}).observe(document,{childList:!0,subtree:!0});function O(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function I(s){if(s.ep)return;s.ep=!0;const n=O(s);fetch(s.href,n)}})();const a=document.getElementById("game"),r=a.getContext("2d"),j=document.getElementById("score"),g=document.getElementById("startBtn"),u=document.getElementById("pauseBtn"),w=document.getElementById("restartBtn"),B=document.getElementById("instructions"),M=document.getElementById("gameOver");let l=!1,d=!1,y,o,f,m=1,c=4e3;const h=["🍎","🍌","🍓","🍇","🍉","🍊"],t={score:0,fruits:[],bombs:[],basket:{width:80,height:20,x:0,y:0,baseSpeed:7,speedMultiplier:1,dx:0}},L=()=>{a.width=window.innerWidth,a.height=window.innerHeight,t.basket.y=a.height-t.basket.height-10};window.addEventListener("resize",L);L();const x=()=>{t.fruits.push({x:Math.random()*(a.width-15*2)+15,y:-15,radius:15,speed:4+Math.random()*3,emoji:h[Math.floor(Math.random()*h.length)]})},E=e=>{e.x=Math.random()*(a.width-e.radius*2)+e.radius,e.y=-e.radius,e.emoji=h[Math.floor(Math.random()*h.length)]},p=()=>{t.bombs.push({x:Math.random()*(a.width-15*2)+15,y:-15,radius:15,speed:(4+Math.random()*2)*m,emoji:"💣"})},F=e=>{e.x=Math.random()*(a.width-e.radius*2)+e.radius,e.y=-e.radius,e.emoji="💣"},S=(e,i)=>e.x>i.x&&e.x<i.x+i.width&&e.y+e.radius>i.y,C=e=>{e.code==="Space"&&(t.basket.speedMultiplier=2,t.basket.dx>0?t.basket.dx=t.basket.baseSpeed*2:t.basket.dx<0&&(t.basket.dx=-t.basket.baseSpeed*2)),(e.key==="ArrowLeft"||e.key==="a"||e.key==="A")&&(t.basket.dx=-t.basket.baseSpeed*t.basket.speedMultiplier),(e.key==="ArrowRight"||e.key==="d"||e.key==="D")&&(t.basket.dx=t.basket.baseSpeed*t.basket.speedMultiplier)},P=e=>{(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="a"||e.key==="A"||e.key==="d"||e.key==="D")&&(t.basket.dx=0),e.code==="Space"&&(t.basket.speedMultiplier=1,t.basket.dx>0?t.basket.dx=t.basket.baseSpeed:t.basket.dx<0&&(t.basket.dx=-t.basket.baseSpeed))};window.addEventListener("keydown",C);window.addEventListener("keyup",P);const R=()=>{t.basket.x+=t.basket.dx,t.basket.x=Math.max(0,Math.min(a.width-t.basket.width,t.basket.x))},D=()=>{t.fruits.forEach(e=>{e.y+=e.speed,S(e,t.basket)?(t.score+=1,E(e)):e.y-e.radius>a.height&&E(e)})},G=()=>{t.bombs.forEach(e=>{e.y+=e.speed*m,S(e,t.basket)?$():e.y-e.radius>a.height&&F(e)})},q=()=>{r.fillStyle="brown",r.fillRect(t.basket.x,t.basket.y,t.basket.width,t.basket.height)},K=e=>{r.font=`${e.radius*2}px serif`,r.textAlign="center",r.textBaseline="middle",r.fillText(e.emoji,e.x,e.y)},N=e=>{r.font=`${e.radius*2}px serif`,r.textAlign="center",r.textBaseline="middle",r.fillText(e.emoji,e.x,e.y)},T=()=>{j.textContent=`Score: ${t.score}`},A=()=>{m+=.1,c>2e3&&(c-=500,clearInterval(o),o=setInterval(p,c)),p()},$=()=>{l=!1,d=!1,clearInterval(y),clearInterval(o),clearInterval(f),M.style.display="block",g.style.display="inline-block",u.style.display="none",w.style.display="none",B.style.display="block"},v=()=>{d||(r.clearRect(0,0,a.width,a.height),R(),D(),G(),q(),t.fruits.forEach(K),t.bombs.forEach(N),T(),l&&!d&&requestAnimationFrame(v))},z=()=>{l&&(d?(d=!1,u.textContent="Pause",y=setInterval(x,5e3),o=setInterval(p,c),f=setInterval(A,3e3),requestAnimationFrame(v)):(d=!0,u.textContent="Resume",clearInterval(y),clearInterval(o),clearInterval(f)))},H=()=>{if(!l)return b();l=!1,clearInterval(y),clearInterval(o),clearInterval(f),b()},b=()=>{if(!l){l=!0,d=!1,g.style.display="none",u.style.display="inline-block",w.style.display="inline-block",B.style.display="none",M.style.display="none",t.score=0,t.fruits=[],t.bombs=[],m=1,c=4e3;for(let e=0;e<5;e++)x();for(let e=0;e<3;e++)p();y=setInterval(x,5e3),o=setInterval(p,c),f=setInterval(A,3e3),v()}};g.addEventListener("click",b);u.addEventListener("click",z);w.addEventListener("click",H);
