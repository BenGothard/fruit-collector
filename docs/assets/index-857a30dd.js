(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function m(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=m(s);fetch(s.href,n)}})();const r=document.getElementById("game"),i=r.getContext("2d"),p=document.getElementById("score"),u=document.getElementById("startBtn"),w=document.getElementById("instructions");let a=!1;const t={score:0,fruits:[],basket:{width:80,height:20,x:0,y:0,speed:7,dx:0}},y=()=>{r.width=window.innerWidth,r.height=window.innerHeight,t.basket.y=r.height-t.basket.height-10};window.addEventListener("resize",y);y();const l=()=>{t.fruits.push({x:Math.random()*(r.width-15*2)+15,y:-15,radius:15,speed:2+Math.random()*3})},h=e=>{e.x=Math.random()*(r.width-e.radius*2)+e.radius,e.y=-e.radius},g=(e,o)=>e.x>o.x&&e.x<o.x+o.width&&e.y+e.radius>o.y,x=e=>{e.key==="ArrowLeft"&&(t.basket.dx=-t.basket.speed),e.key==="ArrowRight"&&(t.basket.dx=t.basket.speed)},b=e=>{(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(t.basket.dx=0)};window.addEventListener("keydown",x);window.addEventListener("keyup",b);const k=()=>{t.basket.x+=t.basket.dx,t.basket.x=Math.max(0,Math.min(r.width-t.basket.width,t.basket.x))},E=()=>{t.fruits.forEach(e=>{e.y+=e.speed,g(e,t.basket)?(t.score+=1,h(e)):e.y-e.radius>r.height&&h(e)})},L=()=>{i.fillStyle="brown",i.fillRect(t.basket.x,t.basket.y,t.basket.width,t.basket.height)},v=e=>{i.beginPath(),i.fillStyle="red",i.arc(e.x,e.y,e.radius,0,Math.PI*2),i.fill()},B=()=>{p.textContent=`Score: ${t.score}`},f=()=>{i.clearRect(0,0,r.width,r.height),k(),E(),L(),t.fruits.forEach(v),B(),a&&requestAnimationFrame(f)},I=()=>{a||(a=!0,u.style.display="none",w.style.display="none",t.score=0,t.fruits=[],l(),setInterval(l,1e4),f())};u.addEventListener("click",I);
