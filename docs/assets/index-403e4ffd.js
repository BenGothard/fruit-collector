(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))f(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&f(u)}).observe(document,{childList:!0,subtree:!0});function E(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(s){if(s.ep)return;s.ep=!0;const n=E(s);fetch(s.href,n)}})();const r=document.getElementById("game"),a=r.getContext("2d"),B=document.getElementById("score"),h=document.getElementById("startBtn"),k=document.getElementById("instructions"),w=document.getElementById("gameOver");let d=!1,g,c,x,y=1,o=7e3;const t={score:0,fruits:[],bombs:[],basket:{width:80,height:20,x:0,y:0,speed:7,dx:0}},b=()=>{r.width=window.innerWidth,r.height=window.innerHeight,t.basket.y=r.height-t.basket.height-10};window.addEventListener("resize",b);b();const m=()=>{t.fruits.push({x:Math.random()*(r.width-15*2)+15,y:-15,radius:15,speed:2+Math.random()*3})},p=e=>{e.x=Math.random()*(r.width-e.radius*2)+e.radius,e.y=-e.radius},l=()=>{t.bombs.push({x:Math.random()*(r.width-15*2)+15,y:-15,radius:15,speed:(2+Math.random()*2)*y})},L=e=>{e.x=Math.random()*(r.width-e.radius*2)+e.radius,e.y=-e.radius},v=(e,i)=>e.x>i.x&&e.x<i.x+i.width&&e.y+e.radius>i.y,M=e=>{(e.key==="ArrowLeft"||e.key==="a"||e.key==="A")&&(t.basket.dx=-t.basket.speed),(e.key==="ArrowRight"||e.key==="d"||e.key==="D")&&(t.basket.dx=t.basket.speed)},A=e=>{(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="a"||e.key==="A"||e.key==="d"||e.key==="D")&&(t.basket.dx=0)};window.addEventListener("keydown",M);window.addEventListener("keyup",A);const O=()=>{t.basket.x+=t.basket.dx,t.basket.x=Math.max(0,Math.min(r.width-t.basket.width,t.basket.x))},P=()=>{t.fruits.forEach(e=>{e.y+=e.speed,v(e,t.basket)?(t.score+=1,p(e)):e.y-e.radius>r.height&&p(e)})},S=()=>{t.bombs.forEach(e=>{e.y+=e.speed*y,v(e,t.basket)?N():e.y-e.radius>r.height&&L(e)})},F=()=>{a.fillStyle="brown",a.fillRect(t.basket.x,t.basket.y,t.basket.width,t.basket.height)},C=e=>{a.beginPath(),a.fillStyle="red",a.arc(e.x,e.y,e.radius,0,Math.PI*2),a.fill()},D=e=>{a.beginPath(),a.fillStyle="black",a.arc(e.x,e.y,e.radius,0,Math.PI*2),a.fill()},R=()=>{B.textContent=`Score: ${t.score}`},K=()=>{y+=.1,o>2e3&&(o-=500,clearInterval(c),c=setInterval(l,o)),l()},N=()=>{d=!1,clearInterval(g),clearInterval(c),clearInterval(x),w.style.display="block",h.style.display="inline-block",k.style.display="block"},I=()=>{a.clearRect(0,0,r.width,r.height),O(),P(),S(),F(),t.fruits.forEach(C),t.bombs.forEach(D),R(),d&&requestAnimationFrame(I)},q=()=>{d||(d=!0,h.style.display="none",k.style.display="none",w.style.display="none",t.score=0,t.fruits=[],t.bombs=[],y=1,o=7e3,m(),l(),g=setInterval(m,1e4),c=setInterval(l,o),x=setInterval(K,5e3),I())};h.addEventListener("click",q);
